//author: Dhanasekar Elangovan & Justin Gottshall
//The class implements mergesort
public class MergeSort {
    public static void main(String[] args) {

        MergeSorter sorter = new MergeSorter();
        sorter.tempArray = new int[sorter.inputArray.length];

        sorter.mergeSort(0, sorter.inputArray.length - 1);

        int i = 0;
        while (i < sorter.inputArray.length) {
            System.out.println(sorter.inputArray[i]);
            i = i + 1;
        }
    }
}


class MergeSorter {

    int[] tempArray;
    int[] inputArray = {16, 13, 40, 3, 32, 7, 22, 19, 8, 13};


    /**
     * Performs merge sort
     *
     * @param start
     * @param end
     */
    public int mergeSort(int start, int end) {

        if (start < end) {
            int middle = (start + end) / 2;

            this.mergeSort(start, middle);
            this.mergeSort(middle + 1, end);

            this.merge(start, middle, end);
        }

        return 0;
    }


    /**
     * Merges the given two segments into a single segment in increasing order
     *
     * @param start
     * @param middle
     * @param end
     */
    public int merge(int start, int middle, int end) {

        int copyPtr = start;
        int sPtr = start;
        int mPtr = middle + 1;
        int oPtr = start;

        while (copyPtr < (end+1) ) {
            this.tempArray[copyPtr] = this.inputArray[copyPtr];
            copyPtr = copyPtr + 1;
        }

        while (sPtr < (middle + 1) && mPtr < (end + 1)) {

            if (this.tempArray[sPtr] < this.tempArray[mPtr]) {
                this.inputArray[oPtr] = this.tempArray[sPtr];
                oPtr = oPtr + 1;
                sPtr = sPtr + 1;
            } else {
                this.inputArray[oPtr] = this.tempArray[mPtr];
                oPtr = oPtr + 1;
                mPtr = mPtr + 1;
            }
        }

        while (sPtr < (middle + 1)) {
            this.inputArray[oPtr] = this.tempArray[sPtr];
            oPtr = oPtr + 1;
            sPtr = sPtr + 1;
        }

        while (mPtr < (end + 1)) {
            this.inputArray[oPtr] = this.tempArray[mPtr];
            oPtr = oPtr + 1;
            mPtr = mPtr + 1;
        }

        return 0;
    }

}
